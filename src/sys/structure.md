
## Structure Build

**AI construction protocols for building custom FloatPrompt files through systematic methodology**

> **"Universal structure + Conditional complexity + Infinite expandability = Systematic tool creation"**

*Complete AI guidance for technical FloatPrompt creation with formatting compliance and conversational emergence.*

## Purpose

Build custom FloatPrompt files through systematic three-phase co-creation with universal architecture compliance, technical formatting precision, and conversational sophistication scaling from simple utilities to complex workflow orchestrators.

### Key Principles
- **Universal structure** - 100% predictable top-level architecture
- **Dual audience design** - Every FloatPrompt serves both human comprehension and AI behavioral specification
- **Collapsible complexity** - Simple tools minimal, complex tools expanded
- **Infinite expandability** - Any functionality nests within requirements/integration
- **Conversational emergence** - Tools emerge from dialogue, not form-filling

## **MANDATORY EXECUTION PROTOCOL**

**BEFORE YOU BEGIN - READ THIS TWICE:**

1. **STOP** - Do not proceed until you confirm: "I will create this floatprompt in canvas/artifact ONLY"
2. **STOP** - Do not proceed until you confirm: "I will NOT output any floatprompt content in conversation"  
3. **STOP** - Do not proceed until you confirm: "I will use complete JSON structure, not minimal examples"

**CRITICAL CONFIDENCE CHECK:**
**Do you feel 100% confident and 0% ambiguous about how to structure and create this floatprompt file?**

**If the answer is anything other than "YES, I am 100% confident with zero ambiguity" - STOP IMMEDIATELY and ask clarifying questions.**

**IF YOU CANNOT CONFIRM ALL REQUIREMENTS WITH ABSOLUTE CERTAINTY - DO NOT PROCEED WITH FLOATPROMPT CREATION**

## **Universal Dual Audience Principle**

**Every FloatPrompt file must successfully serve both human comprehension and AI behavioral specification needs.**

### **Why Dual Audience Is Essential**

**The fundamental insight**: Every FloatPrompt file serves both:
- **Human comprehension** - Understanding purpose, context, and value
- **AI behavioral specification** - Precise execution instructions and contextual anchoring

**Without dual audience design:**
- Humans can't understand what the tool does or why it matters
- AI lacks proper behavioral context for consistent execution
- Files become either too technical (AI-only) or too vague (human-only)

### **Behavioral Impact on AI Systems**

**Without dual audience specification**, AI might:
- Jump straight into technical implementation details
- Use complex jargon assuming technical knowledge
- Focus only on execution without explaining value
- Miss the need to clarify concepts for human understanding

**With dual audience specification**, AI must:
- Explain concepts clearly before diving into technical details
- Provide context for why something matters to humans
- Scale complexity appropriately - simple explanations with technical depth available
- Balance human comprehension with AI precision

### **Implementation Requirements**

**Every FloatPrompt must include:**
```json
"requirements": {
  "dual_audience_support": {
    "human_comprehension": "Clear explanation of purpose, value, and usage for human understanding",
    "ai_behavioral_specification": "Precise contextual anchoring and execution guidance for systematic AI processing"
  }
}
```

**This creates measurable behavioral changes:**
- AI reads this and modifies communication style, detail level, response structure
- Forces balance between human accessibility and technical precision
- Prevents AI-only or human-only responses
- Ensures files become intelligent, self-documenting collaboration partners

## **DEFINITIVE Universal FloatPrompt Architecture**

### **100% UNIVERSAL FIELDS (Every Single FloatPrompt)**

```json
{
  "STOP": "{{EXECUTION_DIRECTIVE}}",
  "meta": {
    "title": "{{TITLE}}",
    "id": "{{ID}}",
    "type": "{{TYPE}}",
    "author": "{{AUTHOR}}",
    "contributors": ["{{CONTRIBUTORS}}"],
    "created": "{{DATE}}",
    "version": "{{VERSION}}",
    "system_version": "floatprompt v0.1.0-beta"
  },
  "human": {
    "intent": "{{PRIMARY_GOAL}}",
    "context": "{{USAGE_CONTEXT}}",
    "constraints": "{{LIMITATIONS}}",
    "preferences": {
      "style": "{{COMMUNICATION_STYLE}}",
      "detail_level": "{{DEPTH_PREFERENCE}}",
      "output_format": "{{EXPECTED_RESULT}}"
    }
  },
  "ai": {
    "model": "{{AI_MODEL}}",
    "role": "{{AI_FUNCTION}}",
    "expertise": "{{DOMAIN_KNOWLEDGE}}",
    "voice_preservation": "{{VOICE_HANDLING_INSTRUCTION}}"
  },
  "requirements": {
    "dual_audience_support": {
      "human_comprehension": "Clear explanation of purpose, value, and usage for human understanding",
      "ai_behavioral_specification": "Precise contextual anchoring and execution guidance for systematic AI processing"
    },
    "{{TOOL_SPECIFIC_FUNCTIONALITY}}": "{{DESCRIPTION}}"
  },
  "integration": {
    "{{PIPELINE_COORDINATION}}": "{{DESCRIPTION}}"
  }
}
```

### **HIGHLY RECOMMENDED FIELDS (90-95% of FloatPrompt files)**

```json
{
  "execution": {
    "triggers": ["{{ACTIVATION_PATTERNS}}"],
    "success_criteria": "{{OUTCOME_DEFINITION}}"
  },
  "task": {
    "input_type": "{{EXPECTED_INPUT}}",
    "process": "{{TRANSFORMATION_METHOD}}",
    "output_type": "{{EXPECTED_OUTPUT}}"
  },
  "domain": {
    "field": "{{SPECIALIZATION_AREA}}",
    "specialization": "{{SPECIFIC_FOCUS}}",
    "standards": "{{QUALITY_CRITERIA}}"
  },
  "source": {
    "prompt": "{{ORIGIN_PROMPT}}",
    "intent": "{{SOURCE_PURPOSE}}"
  }
}
```

## **Conditional Field Inclusion Logic**

### **AI Decision Tree for Field Inclusion**

**execution** - Include if:
- User requests executable tool
- Mentions triggers or activation
- Describes workflow or process
- Tool needs success criteria

**task** - Include if:
- Clear input→transformation→output
- Processing or conversion needed
- Content manipulation required
- Systematic transformation described

**domain** - Include if:
- Specialized field mentioned
- Industry-specific requirements
- Technical standards needed
- Professional expertise required

**source** - Include if:
- Built from existing content
- References prior work
- Iterative improvement
- Adaptation of existing tool

## **Tool Type Pattern Recognition**

### **Voice-Sensitive Tools (Archaeological)**
```json
{
  "requirements": {
    "dual_audience_support": {
      "human_comprehension": "Clear explanation of voice preservation methodology and archaeological extraction benefits",
      "ai_behavioral_specification": "Precise archaeological extraction protocols and voice preservation enforcement"
    },
    "archaeological_methodology": "Extract without interpretation, preserve voice patterns",
    "voice_preservation": {
      "extraction_method": "Archaeological precision with zero drift",
      "cognitive_patterns": "Maintain human decision-making fingerprint",
      "temporal_precision": "Preserve hesitations, tildes, discovery markers"
    },
    "output_structure": "Organized intelligence with voice authenticity"
  }
}
```

### **Simple Tools (Content Creation)**
```json
{
  "task": {
    "input_type": "Source content or requirements",
    "process": "Direct transformation or creation methodology", 
    "output_type": "Target format (newsletter, script, thread)"
  },
  "requirements": {
    "dual_audience_support": "Required for all FloatPrompt files",
    "core_functionality": "Primary content creation or transformation purpose",
    "quality_standards": "Format and audience requirements"
  }
}
```

### **Workflow Tools (Multi-Stage Coordination)**
```json
{
  "requirements": {
    "dual_audience_support": "Required for all FloatPrompt files",
    "orchestration_logic": "Multi-stage process coordination with phase detection",
    "decision_frameworks": "Conditional logic and routing systems",
    "workflow_stages": "Systematic progression through defined phases"
  },
  "integration": {
    "tool_coordination": "Multi-tool workflow management",
    "handoff_protocols": "Context preservation between tools"
  }
}
```

### **Coordination Tools (Reference & Integration)**
```json
{
  "requirements": {
    "dual_audience_support": "Required for all FloatPrompt files",
    "reference_material": "Foundational knowledge or voice patterns",
    "integration_protocols": "Cross-tool compatibility specifications"
  },
  "integration": {
    "ecosystem_role": "How this tool supports other FloatPrompt files",
    "coordination_features": "Pipeline integration and handoff capabilities"
  }
}
```

## **AI Construction Protocol**

### **When user requests FloatPrompt creation:**

**1. Analyze request complexity:**
- Simple function = minimal JSON structure
- Complex workflow = expanded requirements/integration
- Multi-tool coordination = rich integration section

**2. Determine field inclusion:**
- Always include: STOP, meta, human, ai, requirements, integration
- Conditionally include: execution, task, domain, source based on decision tree

**3. Populate requirements appropriately:**
- **ALWAYS include dual_audience_support as the first requirement** - this serves the PRIMARY goal of human authority and voice preservation
- Voice-sensitive tools → archaeological_methodology, voice_preservation, temporal_precision
- Simple tools → core_functionality, quality_standards
- Workflow tools → orchestration_logic, workflow_stages, decision_frameworks
- Coordination tools → reference_material, integration_protocols

**4. Structure integration based on ecosystem role:**
- Standalone tool → minimal coordination notes
- Pipeline component → detailed workflow integration
- System utility → cross-tool compatibility requirements

**5. Expand complexity only when user request demonstrates need:**
- Don't add workflow management for simple transformations
- Don't include quality gates unless quality assurance mentioned
- Don't add session context unless historical preservation needed

## **Universal Markdown Template**

### **Standard Body Structure**

```markdown
# {{TITLE}}

**{{ONE_LINE_PURPOSE_STATEMENT}}**
*{{EXTENDED_DESCRIPTION}}*

## System Authority
{{CORE_OPERATING_PHILOSOPHY_AND_MISSION}}

## Quick Start
{{IMMEDIATE_ACTION_GUIDANCE}}

## Goals
{{TOOL_PURPOSE_AND_GOALS}}

## Context
{{WHEN_AND_WHY_TO_USE}}

## Output
{{WHAT_YOU_GET}}

## Warnings
{{GENERAL_LIMITATIONS_AND_CONSIDERATIONS}}

**Voice Preservation:**
- {{VOICE_PRESERVATION_WARNING}}
- {{ARCHAEOLOGICAL_METHODOLOGY_CONSTRAINTS}}

<!-- CONDITIONAL SECTIONS START -->

<!-- FOR VOICE-SENSITIVE TOOLS: -->
## Voice Preservation Methodology
{{ARCHAEOLOGICAL_AND_CALIBRATION_APPROACH}}

<!-- FOR WORKFLOW TOOLS: -->
## Automatic Phase Detection
{{PHASE_DETECTION_AND_ROUTING}}

<!-- FOR SIMPLE TOOLS: -->
## Core Methodology
{{PRIMARY_FUNCTION_APPROACH}}

<!-- FOR TOOLS THAT COORDINATE: -->
## Integration Features
{{TOOL_COORDINATION_AND_DEPENDENCIES}}

<!-- CONDITIONAL SECTIONS END -->

**{{COLLABORATION_ATTRIBUTION_LINE}}**

*{{CLOSING_PHILOSOPHICAL_STATEMENT}}*

© 2025 [@MDS](https://mds.is) | CC BY 4.0
```

## **Technical Formatting Requirements**

### **Canvas/Artifact Creation Protocol**
```
<floatprompt
[COMPLETE JSON FRONTMATTER
# [Markdown content following universal template]
</floatprompt>
```

### **Current File Creation Protocol:**
- **Web Browser AI**: Use canvas/artifact, save as .txt for universal compatibility
- **Desktop Tools**: Create actual .txt files directly
- **File extension**: Use .txt for maximum adoption and zero-friction deployment
- **Universal recognition**: .txt files work across all AI platforms without configuration
- **Future evolution**: .fp extension planned but .txt is current production standard

### **Critical Requirements:**
- **Complete JSON structure** - never minimal examples
- **Template variable replacement** - all {{VARIABLES}} filled with actual values
- **Voice preservation compliance** - archaeological methodology
- **Cross-platform compatibility** - .txt format ensures immediate usability

## **Quality Assurance Checklist**

**Before completing FloatPrompt creation:**

- [ ] **Canvas Usage**: Document created in artifact/canvas, not conversation
- [ ] **File Format**: Use .txt for creating floatprompt files
- [ ] **Complete JSON**: Full frontmatter structure, not minimal example
- [ ] **Dual Audience Support**: dual_audience_support included as first requirement
- [ ] **Field Completeness**: All required fields present and populated
- [ ] **Template Compliance**: Markdown follows universal template structure
- [ ] **Conditional Logic**: Appropriate sections for tool type
- [ ] **Voice Preservation**: Archaeological methodology compliance
- [ ] **Technical Format**: Clean wrapping tags and valid JSON syntax

## **Conversational Construction Process**

### **Phase 1: Map Territory (from map.md)**
- Apply friction scoring and complexity assessment
- Determine tool type and architectural requirements
- Establish voice preservation needs

### **Phase 2: Decide Extractions (from decide.md)**
- Define archaeological methodology if voice-sensitive
- Identify behavioral requirements and constraints
- Plan integration and coordination needs

### **Phase 3: Structure Build (structure.md)**
- Apply universal architecture with conditional complexity
- Use appropriate tool type pattern
- Follow technical formatting protocols
- Validate against quality assurance checklist

**Tools emerge naturally from conversation, not form-filling or one-shot generation.**

**AI construction guidance enabling systematic FloatPrompt creation through conversational emergence with technical precision and universal architecture compliance.**
