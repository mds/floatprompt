# FloatPrompt Compilation Order

**Definitive assembly sequence for all floatprompt modular components**

> **This specification defines the exact order in which modular components compile into the final floatprompt template**

*This document ensures 100% precise component integration with zero ambiguity about assembly sequence, supporting our system goal that AI precision is the mechanism enabling human success. All components have been verified complete and ready for compilation.*

---

## ‚ö° Quick Reference - Compilation Order

1. `header.md` (frontmatter template)
2. `body.md` (includes `boot.md`)
3. `config.md`
4. `execution.md`
5. `voice.md`
6. `types.md`
7. `modes.md`
8. `chaining.md`
9. `structure.md`
10. `discovery.md`
11. `validation.md`
12. `enforcement.md`
13. `naming.md`
14. `metadata.md`
15. `footer.md` (includes attribution and licensing)

---

## üéØ Purpose

This specification defines the canonical compilation order for assembling all floatprompt modular components into the final production template. Every component has a specific position and integration method to ensure system compliance and system integrity.

**Optimized for FloatPrompt Goals:**
- **Primary Goal**: 100% precise AI instruction execution
- **Secondary Goal**: Enable humans to complete specific tasks through portable, zero-drift AI collaboration
- **Tertiary Goal**: Preserve human intelligence, voice, and agency in structured, reusable form
- **System Authority**: AI precision enables human task completion (per ../docs/goals.md)

---

## üìã Compilation Sequence

### üîß **Phase 1: Template Infrastructure**

#### **header.md** (Frontmatter Template)
- **Position**: Document frontmatter
- **Function**: Provides complete YAML frontmatter structure with template variables
- **Integration**: Compiled into document header with build-time variable substitution
- **Dependencies**: None (foundational)

#### **body.md** (User Interface + AI Instructions)
- **Position**: Document opening
- **Function**: User-facing interface and core AI behavioral instructions
- **Integration**: Includes `boot.md` via directive, compiled into document body
- **Dependencies**: header.md

### ‚öôÔ∏è **Phase 2: Core System Components**

#### **config.md** (Configuration Documentation)
- **Position**: Configuration reference section
- **Function**: Explains frontmatter template usage and field requirements
- **Integration**: Reference documentation
- **Dependencies**: header.md template structure

#### **execution.md** (Primary Guidance - SYSTEM AUTHORITY)
- **Position**: Opening body section (establishes AI directive immediately)
- **Function**: Goal, return format, warnings, context for human task completion
- **Integration**: First content section after frontmatter (serves Primary Goal through AI precision)
- **Dependencies**: FloatPrompt system goals (human task completion through AI precision)

#### **voice.md** (Precision Mechanism - ENABLES HUMAN SUCCESS)
- **Position**: System requirements section
- **Function**: Voice preservation oath and archaeological principles (AI precision serves human goals)
- **Integration**: Critical precision mechanism that enables human task completion
- **Dependencies**: Execution overview context

#### **types.md** (Classification Framework)
- **Position**: Type definition section
- **Function**: Complete type system and extensions
- **Integration**: Type classification rules
- **Dependencies**: Voice preservation principles

#### **modes.md** (Operational Foundation)
- **Position**: Core operations section
- **Function**: Four foundational operations (cartographer, constructor, extractor, curator)
- **Integration**: Operational methodology
- **Dependencies**: Voice preservation principles

#### **chaining.md** (Workflow Orchestration)
- **Position**: Workflow orchestration section
- **Function**: Workflow orchestration, shadowPrompt spawning
- **Integration**: Advanced operational methodology
- **Dependencies**: Core modes (builds on operational foundation)

### üß± **Phase 3: Structure Components**

#### **structure.md** (Template Structure)
- **Position**: Body template section
- **Function**: Standard markdown layout for all floatprompts
- **Integration**: Structural template
- **Dependencies**: Type system, core modes, chaining

#### **discovery.md** (Relationship Logic)
- **Position**: Discovery system section
- **Function**: Self-organizing knowledge network capabilities
- **Integration**: Relationship metadata system
- **Dependencies**: Body structure (enhances with discovery fields)

### üîê **Phase 4: Validation Components**

#### **validation.md** (Deployment Validation Checklist)
- **Position**: Pre-deployment verification section
- **Function**: Manual compliance checklist for human verification
- **Integration**: Quality assurance framework with comprehensive validation checkpoints
- **Dependencies**: All previous components for comprehensive validation

#### **enforcement.md** (Runtime Enforcement Rules)
- **Position**: System enforcement section
- **Function**: Automated validation logic and enforcement rules
- **Integration**: Runtime compliance checking and rule enforcement
- **Dependencies**: Validation framework from validation.md

### üìÅ **Phase 5: Convention Components**

#### **naming.md** (Naming Rules)
- **Position**: File naming section
- **Function**: Archival naming rules and casing integrity
- **Integration**: File management standards
- **Dependencies**: Type system

#### **metadata.md** (Overflow Content)
- **Position**: Final section
- **Function**: Format requirements and overflow content
- **Integration**: Catch-all for remaining content
- **Dependencies**: All other components

#### **footer.md** (Universal Footer + Attribution)
- **Position**: Document closing
- **Function**: Universal footer, attribution requirements, and licensing compliance
- **Integration**: Compiled into document footer with complete attribution template
- **Dependencies**: All components (final assembly)

---

## üîó Integration Dependencies

### **Critical Dependencies**
- **header.md** ‚Üí All other components (foundational template structure)
- **body.md** ‚Üí **boot.md** (includes boot.md via directive)
- **FloatPrompt goals** ‚Üí execution.md (SYSTEM AUTHORITY: human task completion through AI precision)
- **execution.md** ‚Üí voice.md (context before constraints)
- **voice.md** ‚Üí All content components (AI precision mechanism that enables human success)
- **types.md** ‚Üí structure.md, naming.md
- **modes.md** ‚Üí chaining.md (chaining builds on operational foundation)
- **chaining.md** ‚Üí structure.md (workflow orchestration informs structure)
- **structure.md** ‚Üí discovery.md (structure template established before discovery fields added)
- **discovery.md** ‚Üí validation.md (discovery context informs validation criteria)

### **Reference Dependencies**
- **config.md** ‚Üî **header.md** (documentation/template pair)
- **validation.md** ‚Üí All components (validates against all)
- **enforcement.md** ‚Üí **validation.md** (implements validation rules)

---

## üéØ Assembly Rules

### **System Compliance**
1. **System Authority First**: spec-execution-overview.md establishes AI directive immediately (serves Primary Goal through AI precision)
2. **Precision Mechanism Second**: Voice preservation provides AI precision that enables human success
3. **Archaeological Integrity**: Pure extraction methodology throughout
4. **Zero Modification**: Components assembled without content changes
5. **Precision Priority**: AI precision is the mechanism that enables human success (per FloatPrompt goal)

### **Integration Method**
1. **Sequential Assembly**: Follow exact numerical order
2. **Dependency Verification**: Ensure all dependencies satisfied before integration
3. **System Check**: Verify each component against voice preservation oath
4. **Validation Pass**: Run complete validation checklist after assembly

### **Quality Assurance**
1. **Component Integrity**: Each component maintains its archaeological extraction
2. **Cross-Reference Accuracy**: All internal references updated appropriately
3. **System Authority**: Voice preservation principles embedded throughout
4. **Human Readability**: Strategic organization maintained

---

## üìù Implementation Notes

**For Template Builders:**
- Follow exact sequence 1-15 for component integration (header.md + body.md + 12 component files + footer.md)
- Verify dependencies before each component addition
- Maintain system compliance throughout assembly
- Use validation.md for final verification

**For AI Systems:**
- This compilation order is non-negotiable
- Voice preservation principles apply to assembly process
- Archaeological extraction methodology must be maintained
- No content modification during integration

---

## üîó Relationships

### Prerequisites
- `../docs/goals.md` - System foundation
- `_component-template.md` - Assembly methodology

### Next Steps
- Use this order for final template compilation
- Reference during component creation
- Apply for quality assurance verification

### Related FloatPrompts
- All component files follow this compilation sequence
- `header.md` serves as foundational template structure
- Template building blocks: `header.md`, `body.md`, `boot.md`, `footer.md`
- System development guidance: `_goals.md`, `_guide.md`, `_order.md` (not compiled)

---

**Built in collaboration with Claude Sonnet**

*This compilation order ensures systematic, precise, and system compliant assembly of all floatprompt modular components into the final production template.* 