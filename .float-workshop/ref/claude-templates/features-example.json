{
  "project": {
    "name": "Dropbox Docs Viewer",
    "version": "1.0",
    "generated_at": "2026-01-08T12:00:00Z",
    "prd_path": ".float/prd.md"
  },
  "summary": {
    "total": 15,
    "passing": 3,
    "failing": 1,
    "untested": 11
  },
  "features": [
    {
      "id": "AUTH-001",
      "area": "authentication",
      "feature": "Password gate middleware",
      "behavior": "Next.js middleware protects all routes under docs.shiftnudge.com/*",
      "acceptance_criteria": "Unauthenticated requests redirect to login page",
      "priority": "must-have",
      "status": "passing",
      "verification_method": "curl",
      "verified_at": "2026-01-08T10:30:00Z",
      "notes": "Verified with: curl -I https://docs.shiftnudge.com/",
      "depends_on": []
    },
    {
      "id": "AUTH-002",
      "area": "authentication",
      "feature": "Login page",
      "behavior": "Minimal login page with single password field, no username",
      "acceptance_criteria": "Page renders with password input and submit button",
      "priority": "must-have",
      "status": "passing",
      "verification_method": "browser",
      "verified_at": "2026-01-08T10:32:00Z",
      "notes": null,
      "depends_on": ["AUTH-001"]
    },
    {
      "id": "AUTH-003",
      "area": "authentication",
      "feature": "Auth cookie",
      "behavior": "On correct password, sets httpOnly cookie with 30-day expiration",
      "acceptance_criteria": "Cookie is httpOnly, secure, expires in 30 days",
      "priority": "must-have",
      "status": "passing",
      "verification_method": "curl",
      "verified_at": "2026-01-08T10:35:00Z",
      "notes": "Verified cookie attributes in response headers",
      "depends_on": ["AUTH-002"]
    },
    {
      "id": "AUTH-004",
      "area": "authentication",
      "feature": "Incorrect password handling",
      "behavior": "Incorrect password shows inline error, no redirect",
      "acceptance_criteria": "Error message appears on same page, no page navigation",
      "priority": "must-have",
      "status": "failing",
      "verification_method": "browser",
      "verified_at": "2026-01-08T10:40:00Z",
      "notes": "BUG: Currently redirects to /login?error=1 instead of inline error",
      "depends_on": ["AUTH-002"]
    },
    {
      "id": "NAV-001",
      "area": "navigation",
      "feature": "Root folder listing",
      "behavior": "Root shows immediate children of DROPBOX_ROOT_PATH",
      "acceptance_criteria": "Only direct children displayed, no recursive tree",
      "priority": "must-have",
      "status": "untested",
      "verification_method": "browser",
      "verified_at": null,
      "notes": null,
      "depends_on": ["AUTH-003"]
    },
    {
      "id": "NAV-002",
      "area": "navigation",
      "feature": "Folder navigation",
      "behavior": "Clicking a folder navigates to that folder and fetches its children",
      "acceptance_criteria": "URL changes, folder contents load, one API call per view",
      "priority": "must-have",
      "status": "untested",
      "verification_method": "browser",
      "verified_at": null,
      "notes": null,
      "depends_on": ["NAV-001"]
    },
    {
      "id": "NAV-003",
      "area": "navigation",
      "feature": "Breadcrumb navigation",
      "behavior": "Breadcrumb shows path (Home / Folder / Subfolder / file.md), each level clickable",
      "acceptance_criteria": "All breadcrumb segments are clickable links to correct paths",
      "priority": "must-have",
      "status": "untested",
      "verification_method": "browser",
      "verified_at": null,
      "notes": null,
      "depends_on": ["NAV-002"]
    },
    {
      "id": "NAV-004",
      "area": "navigation",
      "feature": "Sort by modified date",
      "behavior": "Default sort shows most recently modified items first",
      "acceptance_criteria": "Items sorted by server_modified descending",
      "priority": "must-have",
      "status": "untested",
      "verification_method": "browser",
      "verified_at": null,
      "notes": null,
      "depends_on": ["NAV-001"]
    },
    {
      "id": "RENDER-001",
      "area": "rendering",
      "feature": "Markdown rendering",
      "behavior": "Markdown files render as formatted HTML",
      "acceptance_criteria": "Headers, lists, code blocks, tables render correctly",
      "priority": "must-have",
      "status": "untested",
      "verification_method": "browser",
      "verified_at": null,
      "notes": null,
      "depends_on": ["NAV-002"]
    },
    {
      "id": "RENDER-002",
      "area": "rendering",
      "feature": "Table of contents",
      "behavior": "TOC generated from headers",
      "acceptance_criteria": "TOC appears with links to all h2+ headers",
      "priority": "must-have",
      "status": "untested",
      "verification_method": "browser",
      "verified_at": null,
      "notes": null,
      "depends_on": ["RENDER-001"]
    },
    {
      "id": "RENDER-003",
      "area": "rendering",
      "feature": "Anchor links on headers",
      "behavior": "All headers have anchor links for deep linking",
      "acceptance_criteria": "Clicking header copies/navigates to #anchor URL",
      "priority": "should-have",
      "status": "untested",
      "verification_method": "browser",
      "verified_at": null,
      "notes": null,
      "depends_on": ["RENDER-001"]
    },
    {
      "id": "MEDIA-001",
      "area": "media",
      "feature": "Image proxy",
      "behavior": "Images display inline via proxy route that refreshes Dropbox temp links",
      "acceptance_criteria": "Images load without 403/expired link errors",
      "priority": "must-have",
      "status": "untested",
      "verification_method": "browser",
      "verified_at": null,
      "notes": null,
      "depends_on": ["NAV-001"]
    },
    {
      "id": "MEDIA-002",
      "area": "media",
      "feature": "PDF display",
      "behavior": "PDFs display in browser via proxy route",
      "acceptance_criteria": "PDF renders in browser, fallback to download if needed",
      "priority": "should-have",
      "status": "untested",
      "verification_method": "browser",
      "verified_at": null,
      "notes": null,
      "depends_on": ["MEDIA-001"]
    },
    {
      "id": "CONFIG-001",
      "area": "configuration",
      "feature": "Environment variables",
      "behavior": "App reads DROPBOX_ACCESS_TOKEN, DROPBOX_ROOT_PATH, DOCS_PASSWORD from env",
      "acceptance_criteria": "App fails gracefully with clear error if vars missing",
      "priority": "must-have",
      "status": "untested",
      "verification_method": "manual",
      "verified_at": null,
      "notes": null,
      "depends_on": []
    },
    {
      "id": "PERF-001",
      "area": "performance",
      "feature": "X-Robots-Tag header",
      "behavior": "All routes return X-Robots-Tag: noindex header",
      "acceptance_criteria": "curl -I shows X-Robots-Tag: noindex on all routes",
      "priority": "should-have",
      "status": "untested",
      "verification_method": "curl",
      "verified_at": null,
      "notes": null,
      "depends_on": []
    }
  ]
}
